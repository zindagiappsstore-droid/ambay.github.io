<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞">
    <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%23667eea' width='192' height='192'/><text x='50%' y='50%' font-size='100' dominant-baseline='middle' text-anchor='middle' fill='white'>üìÖ</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect fill='%23667eea' width='180' height='180' rx='40'/><text x='50%' y='50%' font-size='90' dominant-baseline='middle' text-anchor='middle' fill='white'>üìÖ</text></svg>">
    <link rel="manifest" href="data:application/json,{%22name%22:%22‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞ 2026%22,%22short_name%22:%22‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞%22,%22icons%22:[{%22src%22:%22data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 192 192%27><rect fill=%27%23667eea%27 width=%27192%27 height=%27192%27/><text x=%2750%%27 y=%2750%%27 font-size=%27100%27 dominant-baseline=%27middle%27 text-anchor=%27middle%27 fill=%27white%27>üìÖ</text></svg>%22,%22sizes%22:%22192x192%22,%22type%22:%22image/svg+xml%22,%22purpose%22:%22any%22}],%22start_url%22:%22/%22,%22scope%22:%22/%22,%22display%22:%22fullscreen%22,%22orientation%22:%22portrait-primary%22,%22background_color%22:%22%23667eea%22,%22theme_color%22:%22%23667eea%22,%22description%22:%22‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞, ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞, ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤ ‡§î‡§∞ ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä%22}">
    <title>‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞ 2026 - ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞ & ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤</title>
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #ffeb3b;
            --success: #4ecdc4;
            --danger: #ff6b6b;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html, body { font-family: 'Noto Sans Devanagari', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); min-height: 100vh; overflow-x: hidden; }
        
        .container { max-width: 420px; margin: 0 auto; padding: 15px; padding-bottom: 100px; }
        
        .header { text-align: center; color: white; margin-bottom: 25px; margin-top: 15px; }
        .header h1 { font-size: 26px; margin-bottom: 8px; text-shadow: 0 2px 10px rgba(0,0,0,0.3); font-weight: 600; }
        .today-date { font-size: 14px; opacity: 0.95; letter-spacing: 0.5px; }
        
        .month-selector { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: rgba(255,255,255,0.12); backdrop-filter: blur(20px); padding: 12px 18px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); }
        .month-nav { background: rgba(255,255,255,0.2); border: none; color: white; cursor: pointer; width: 35px; height: 35px; border-radius: 8px; font-size: 18px; transition: all 0.3s; }
        .month-nav:active { transform: scale(0.95); }
        .current-month { color: white; font-size: 18px; font-weight: 600; flex: 1; text-align: center; }
        
        .week-row { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; margin-bottom: 15px; }
        .day-header { text-align: center; color: rgba(255,255,255,0.8); font-size: 12px; font-weight: 600; padding: 10px 0; }
        
        .date-card { aspect-ratio: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(255,255,255,0.12); backdrop-filter: blur(20px); border-radius: 12px; border: 1px solid rgba(255,255,255,0.2); cursor: pointer; transition: all 0.3s; position: relative; min-height: 60px; }
        .date-card:active { transform: scale(0.95); background: rgba(255,255,255,0.18); }
        .date-card.other-month { opacity: 0.4; }
        .date-card.today { background: linear-gradient(135deg, var(--accent), #ffd700); border: 2px solid #ffeb3b; box-shadow: 0 0 15px rgba(255,235,59,0.5); }
        .date-card.festival { background: linear-gradient(135deg, #ff6b6b, #ff8e53); border: 2px solid #ff6b6b; box-shadow: 0 0 15px rgba(255,107,107,0.4); }
        
        .date-num { font-size: 18px; font-weight: 700; color: white; text-shadow: 0 1px 3px rgba(0,0,0,0.2); }
        .date-name { font-size: 10px; color: rgba(255,255,255,0.9); margin-top: 2px; }
        .festival-icon { position: absolute; top: 2px; right: 2px; font-size: 14px; }
        .panchang-dot { position: absolute; bottom: 3px; width: 6px; height: 6px; border-radius: 50%; background: rgba(255,235,59,0.8); }
        
        .panchang-info { background: rgba(255,255,255,0.12); backdrop-filter: blur(20px); border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); padding: 16px; margin-bottom: 15px; color: white; }
        .panchang-title { font-size: 14px; font-weight: 600; margin-bottom: 10px; display: flex; gap: 8px; }
        .panchang-details { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .panchang-item { font-size: 12px; padding: 8px; background: rgba(0,0,0,0.2); border-radius: 8px; }
        .panchang-label { font-size: 10px; opacity: 0.8; margin-bottom: 3px; }
        .panchang-value { font-weight: 600; color: var(--accent); }
        
        .section-card { margin-bottom: 20px; padding: 18px; background: rgba(255,255,255,0.12); backdrop-filter: blur(20px); border-radius: 15px; border: 1px solid rgba(255,255,255,0.2); }
        .section-card.hidden { display: none; }
        .section-title { color: white; font-size: 18px; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; font-weight: 600; }
        
        .festival-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        .festival-card { padding: 15px; background: rgba(255,255,255,0.08); border-radius: 12px; border: 1px solid rgba(255,255,255,0.15); cursor: pointer; transition: all 0.3s; }
        .festival-card:active { transform: scale(0.98); background: rgba(255,255,255,0.15); }
        .festival-name { font-weight: 700; color: #ffeb3b; font-size: 15px; margin-bottom: 5px; }
        .festival-date { font-size: 13px; color: rgba(255,255,255,0.8); margin-bottom: 8px; }
        .festival-desc { font-size: 12px; color: rgba(255,255,255,0.7); line-height: 1.4; }
        
        .horoscope-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .horoscope-card { padding: 14px; background: rgba(255,255,255,0.08); border-radius: 12px; border: 1px solid rgba(255,255,255,0.15); cursor: pointer; transition: all 0.3s; }
        .horoscope-card:active { transform: scale(0.95); background: rgba(255,255,255,0.15); }
        .rashi-name { font-weight: 700; color: var(--accent); font-size: 13px; margin-bottom: 8px; }
        .rashi-desc { font-size: 11px; color: rgba(255,255,255,0.75); line-height: 1.3; }
        .rashi-emoji { font-size: 24px; margin-bottom: 6px; }
        
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(20px); display: flex; max-width: 420px; margin: 0 auto; border-top: 1px solid rgba(255,255,255,0.1); z-index: 100; }
        .nav-item { flex: 1; text-align: center; color: rgba(255,255,255,0.6); cursor: pointer; padding: 12px 8px; transition: all 0.3s; border-top: 3px solid transparent; }
        .nav-item.active { color: var(--accent); border-top-color: var(--accent); }
        .nav-icon { font-size: 22px; display: block; margin-bottom: 4px; }
        .nav-label { font-size: 11px; font-weight: 500; }
        
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); z-index: 1000; overflow-y: auto; max-width: 420px; margin: 0 auto; }
        .modal-content { background: linear-gradient(135deg, rgba(102,126,234,0.9), rgba(118,75,162,0.9)); margin: 30px 15px; border-radius: 20px; padding: 25px; color: white; border: 1px solid rgba(255,255,255,0.2); }
        .modal-close { position: absolute; top: 15px; right: 20px; font-size: 32px; cursor: pointer; color: white; background: rgba(0,0,0,0.3); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: none; }
        .modal-title { font-size: 20px; font-weight: 700; margin-bottom: 15px; }
        .modal-body { font-size: 14px; line-height: 1.6; margin-bottom: 20px; white-space: pre-wrap; }
        .action-buttons { display: flex; gap: 10px; }
        .btn { padding: 12px 16px; border: none; border-radius: 12px; font-size: 13px; cursor: pointer; transition: all 0.3s; flex: 1; font-weight: 600; }
        .btn-copy { background: var(--success); color: white; }
        .btn-share { background: #45b7d1; color: white; }
        .btn-fav { background: var(--danger); color: white; }
        .btn:active { transform: scale(0.95); }
        
        @keyframes confetti {
            0% { transform: translateY(-10px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .confetti { position: fixed; width: 10px; height: 10px; background: var(--accent); animation: confetti 2.5s linear forwards; pointer-events: none; z-index: 999; border-radius: 50%; }
        
        .toast { position: fixed; bottom: 90px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.8); color: white; padding: 12px 20px; border-radius: 25px; font-size: 13px; z-index: 1001; }
        
        .theme-toggle { position: fixed; top: 15px; right: 15px; background: rgba(255,255,255,0.2); border: none; color: white; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 20px; z-index: 101; transition: all 0.3s; }
        .theme-toggle:active { transform: scale(0.9); }
        
        /* Dark Mode */
        body.dark-mode { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); }
        body.dark-mode .date-card { background: rgba(100,100,150,0.15); }
        body.dark-mode .modal-content { background: linear-gradient(135deg, rgba(26,26,46,0.95), rgba(22,33,62,0.95)); }
        
        /* Swipe Animation */
        .swipe-hint { position: absolute; left: 10px; top: 50%; color: rgba(255,255,255,0.5); font-size: 24px; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.8; } }
        
        /* Full Screen IOS */
        @supports(padding: max(0px)) {
            .container { padding-bottom: calc(100px + max(0px, env(safe-area-inset-bottom))); }
            .bottom-nav { padding-bottom: max(0px, env(safe-area-inset-bottom)); }
        }
        
        @media (min-width: 768px) {
            .container { max-width: 600px; }
            .horoscope-grid { grid-template-columns: repeat(3, 1fr); }
            .festival-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleDarkMode()" title="‡§°‡§æ‡§∞‡•ç‡§ï ‡§Æ‡•ã‡§°">üåô</button>
    <div class="container">
        <div class="header">
            <h1>üìÖ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞ 2026</h1>
            <div class="today-date" id="todayDate">07 ‡§¶‡§ø‡§∏‡§Æ‡•ç‡§¨‡§∞ 2025, ‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞</div>
        </div>
        
        <!-- Calendar Section -->
        <div id="calendarSection" class="section-card">
            <div class="month-selector">
                <button class="month-nav" onclick="previousMonth()">‚óÄ</button>
                <div class="current-month" id="currentMonth">‡§¶‡§ø‡§∏‡§Æ‡•ç‡§¨‡§∞ 2025</div>
                <button class="month-nav" onclick="nextMonth()">‚ñ∂</button>
            </div>
            
            <!-- Week Days Header -->
            <div class="week-row">
                <div class="day-header">‡§∞‡§µ‡§ø</div>
                <div class="day-header">‡§∏‡•ã‡§Æ</div>
                <div class="day-header">‡§Æ‡§Ç‡§ó‡§≤</div>
                <div class="day-header">‡§¨‡•Å‡§ß</div>
                <div class="day-header">‡§ó‡•Å‡§∞‡•Å</div>
                <div class="day-header">‡§∂‡•Å‡§ï‡•ç‡§∞</div>
                <div class="day-header">‡§∂‡§®‡§ø</div>
            </div>
            
            <!-- Calendar Grid -->
            <div id="calendarGrid" class="week-row"></div>
            
            <!-- Panchang Info -->
            <div class="panchang-info">
                <div class="panchang-title">üåô ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó ‡§µ‡§ø‡§µ‡§∞‡§£</div>
                <div class="panchang-details">
                    <div class="panchang-item">
                        <div class="panchang-label">‡§§‡§ø‡§•‡§ø</div>
                        <div class="panchang-value" id="tithi">‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑</div>
                    </div>
                    <div class="panchang-item">
                        <div class="panchang-label">‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞</div>
                        <div class="panchang-value" id="nakshatra">‡§ï‡•É‡§§‡§ø‡§ï‡§æ</div>
                    </div>
                    <div class="panchang-item">
                        <div class="panchang-label">‡§Ø‡•ã‡§ó</div>
                        <div class="panchang-value" id="yoga">‡§µ‡§ø‡§∑‡•ç‡§ï‡•Å‡§Æ‡•ç‡§≠</div>
                    </div>
                    <div class="panchang-item">
                        <div class="panchang-label">‡§ï‡§∞‡§£</div>
                        <div class="panchang-value" id="karan">‡§§‡•à‡§§‡§ø‡§≤</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Festivals Section -->
        <div id="festivalsSection" class="section-card hidden">
            <div class="section-title">üéâ 2026 ‡§ï‡•á ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞</div>
            <div class="festival-grid" id="festivalList"></div>
        </div>
        
        <!-- Horoscope Section -->
        <div id="horoscopeSection" class="section-card hidden">
            <div class="section-title">‚≠ê ‡§Ü‡§ú ‡§ï‡§æ ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤</div>
            <div class="horoscope-grid" id="horoscopeGrid"></div>
        </div>
        
        <!-- Favorites Section -->
        <div id="favoritesSection" class="section-card hidden">
            <div class="section-title">‚ù§Ô∏è ‡§Æ‡•á‡§∞‡•á ‡§™‡•ç‡§∞‡§ø‡§Ø</div>
            <div id="favoritesList"></div>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" data-section="calendar">
            <span class="nav-icon">üìÖ</span>
            <span class="nav-label">‡§ï‡•à‡§≤‡•á‡§Ç‡§°‡§∞</span>
        </div>
        <div class="nav-item" data-section="festivals">
            <span class="nav-icon">üéâ</span>
            <span class="nav-label">‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞</span>
        </div>
        <div class="nav-item" data-section="horoscope">
            <span class="nav-icon">‚≠ê</span>
            <span class="nav-label">‡§∞‡§æ‡§∂‡§ø‡§´‡§≤</span>
        </div>
        <div class="nav-item" data-section="favorites">
            <span class="nav-icon">‚ù§Ô∏è</span>
            <span class="nav-label">‡§™‡•ç‡§∞‡§ø‡§Ø</span>
        </div>
    </div>
    
    <!-- Modal -->
    <div id="modal" class="modal">
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <div class="modal-content">
            <div class="modal-title" id="modalTitle"></div>
            <div class="modal-body" id="modalBody"></div>
            <div class="action-buttons">
                <button class="btn btn-copy" onclick="copyContent()">üìã ‡§ï‡•â‡§™‡•Ä</button>
                <button class="btn btn-share" onclick="shareContent()">üì± ‡§∂‡•á‡§Ø‡§∞</button>
                <button class="btn btn-fav" onclick="toggleFavorite()">‚ù§Ô∏è ‡§™‡•ç‡§∞‡§ø‡§Ø</button>
            </div>
        </div>
    </div>

    <script>
        // Panchang Data - ‡§§‡§ø‡§•‡§ø, ‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞, ‡§Ø‡•ã‡§ó, ‡§ï‡§∞‡§£
        const panchangData = [
            { tithi: '‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§ï‡•É‡§§‡§ø‡§ï‡§æ', yoga: '‡§µ‡§ø‡§∑‡•ç‡§ï‡•Å‡§Æ‡•ç‡§≠', karan: '‡§§‡•à‡§§‡§ø‡§≤', day: '‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞' },
            { tithi: '‡§ï‡•É‡§∑‡•ç‡§£ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§∞‡•ã‡§π‡§ø‡§£‡•Ä', yoga: '‡§™‡•ç‡§∞‡•Ä‡§§‡§ø', karan: '‡§ó‡§ú', day: '‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞' },
            { tithi: '‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§Æ‡•É‡§ó‡§∂‡§ø‡§∞‡§æ', yoga: '‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§®', karan: '‡§µ‡§£‡§ø‡§ú', day: '‡§Æ‡§Ç‡§ó‡§≤‡§µ‡§æ‡§∞' },
            { tithi: '‡§ï‡•É‡§∑‡•ç‡§£ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§Ü‡§∞‡•ç‡§¶‡•ç‡§∞‡§æ', yoga: '‡§∏‡•å‡§≠‡§æ‡§ó‡•ç‡§Ø', karan: '‡§µ‡§ø‡§∑‡•ç‡§ü‡§ø', day: '‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞' },
            { tithi: '‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§∏‡•Å', yoga: '‡§∂‡•ã‡§≠‡§®', karan: '‡§∂‡§ï‡•Å‡§®‡§ø', day: '‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞' },
            { tithi: '‡§ï‡•É‡§∑‡•ç‡§£ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§™‡•Å‡§∑‡•ç‡§Ø', yoga: '‡§Ö‡§®‡•Å‡§∞‡§æ‡§ß‡§æ', karan: '‡§ö‡§§‡•Å‡§∑‡•ç‡§™‡§¶', day: '‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞' },
            { tithi: '‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§™‡§ï‡•ç‡§∑', nakshatra: '‡§Ö‡§∂‡•ç‡§≤‡•á‡§∑‡§æ', yoga: '‡§∏‡§ø‡§¶‡•ç‡§ß‡§ø', karan: '‡§®‡§æ‡§ó', day: '‡§∂‡§®‡§ø‡§µ‡§æ‡§∞' }
        ];
        
        // Festival Data - 2026 ‡§ï‡•á ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞
        const festivals = [
            { name: 'üåæ ‡§Æ‡§ï‡§∞ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§æ‡§Ç‡§§‡§ø', date: '14 ‡§ú‡§®‡§µ‡§∞‡•Ä 2026', desc: '‡§§‡§ø‡§≤-‡§ó‡•Å‡§°‡§º ‡§ï‡§æ ‡§™‡•ç‡§∞‡§∏‡§æ‡§¶, ‡§™‡§§‡§Ç‡§ó‡§¨‡§æ‡§ú‡•Ä, ‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§≠‡§ó‡§µ‡§æ‡§® ‡§ï‡•Ä ‡§™‡•Ç‡§ú‡§æ‡•§' },
            { name: 'üå∏ ‡§π‡•ã‡§≤‡•Ä', date: '25 ‡§Æ‡§æ‡§∞‡•ç‡§ö 2026', desc: '‡§∞‡§Ç‡§ó‡•ã‡§Ç ‡§ï‡§æ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞, ‡§π‡•ã‡§≤‡§ø‡§ï‡§æ ‡§¶‡§π‡§®, ‡§ó‡•Å‡§≤‡§æ‡§≤ ‡§ñ‡•á‡§≤‡§®‡§æ‡•§' },
            { name: '‚õµ ‡§®‡§µ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø', date: '21 ‡§∏‡§ø‡§§‡§Æ‡•ç‡§¨‡§∞ 2026', desc: '9 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§§‡§ï ‡§¶‡•á‡§µ‡•Ä ‡§¶‡•Å‡§∞‡•ç‡§ó‡§æ ‡§ï‡•Ä ‡§™‡•Ç‡§ú‡§æ, ‡§¶‡§Ç‡§°‡§ø‡§Ø‡§æ, ‡§ó‡§∞‡§¨‡§æ‡•§' },
            { name: 'üéÜ ‡§¶‡§ø‡§µ‡§æ‡§≤‡•Ä', date: '08 ‡§®‡§µ‡§Æ‡•ç‡§¨‡§∞ 2026', desc: '‡§¶‡§ø‡§™‡•ã‡§Ç ‡§ï‡§æ ‡§§‡•ç‡§Ø‡•ã‡§π‡§æ‡§∞, ‡§Æ‡§ø‡§†‡§æ‡§á‡§Ø‡§æ‡§Ç, ‡§™‡§ü‡§æ‡§ñ‡•á, ‡§ò‡§∞ ‡§ï‡•Ä ‡§∏‡§´‡§æ‡§à‡•§' },
            { name: '‚ùÑÔ∏è ‡§π‡•ã‡§≤‡•Ä ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ö‡§Ç‡§¶‡•ç‡§∞', date: '06 ‡§Ö‡§™‡•ç‡§∞‡•à‡§≤ 2026', desc: '‡§ö‡§Ç‡§¶‡•ç‡§∞ ‡§™‡•Ç‡§ú‡§®, ‡§≠‡§ó‡§µ‡§æ‡§® ‡§ï‡•É‡§∑‡•ç‡§£ ‡§ï‡•Ä ‡§™‡•Ç‡§ú‡§æ‡•§' },
            { name: 'üèπ ‡§∞‡§æ‡§Æ‡§®‡§µ‡§Æ‡•Ä', date: '02 ‡§Ö‡§™‡•ç‡§∞‡•à‡§≤ 2026', desc: '‡§≠‡§ó‡§µ‡§æ‡§® ‡§∞‡§æ‡§Æ ‡§ï‡§æ ‡§ú‡§®‡•ç‡§Æ‡§¶‡§ø‡§®, ‡§≠‡§ú‡§®-‡§ï‡•Ä‡§∞‡•ç‡§§‡§®‡•§' },
            { name: 'üêç ‡§®‡§æ‡§ó ‡§™‡§Ç‡§ö‡§Æ‡•Ä', date: '16 ‡§Ö‡§ó‡§∏‡•ç‡§§ 2026', desc: '‡§®‡§æ‡§ó ‡§¶‡•á‡§µ‡§§‡§æ ‡§ï‡•Ä ‡§™‡•Ç‡§ú‡§æ, ‡§¶‡•Ç‡§ß ‡§™‡•Ç‡§∞‡•Ä‡•§' },
            { name: 'üë¨ ‡§∞‡§ï‡•ç‡§∑‡§æ‡§¨‡§Ç‡§ß‡§®', date: '15 ‡§Ö‡§ó‡§∏‡•ç‡§§ 2026', desc: '‡§≠‡§æ‡§à-‡§¨‡§π‡§® ‡§ï‡§æ ‡§™‡§µ‡§ø‡§§‡•ç‡§∞ ‡§∞‡§ø‡§∂‡•ç‡§§‡§æ, ‡§∞‡§æ‡§ñ‡•Ä ‡§¨‡§æ‡§Ç‡§ß‡§®‡§æ‡•§' },
            { name: 'üôè ‡§õ‡§† ‡§™‡•Ç‡§ú‡§æ', date: '20 ‡§®‡§µ‡§Æ‡•ç‡§¨‡§∞ 2026', desc: '‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§¶‡•á‡§µ‡§§‡§æ ‡§ï‡•Ä ‡§™‡•Ç‡§ú‡§æ, ‡§®‡§π‡§æ‡§Ø-‡§ñ‡§æ‡§Ø, ‡§≤‡•å‡§ï‡•Ä ‡§ï‡•Ä ‡§ñ‡•Ä‡§∞‡•§' },
            { name: '‚ú® ‡§Æ‡§π‡§æ‡§∂‡§ø‡§µ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø', date: '01 ‡§Æ‡§æ‡§∞‡•ç‡§ö 2026', desc: '‡§∂‡§ø‡§µ ‡§≠‡§ó‡§µ‡§æ‡§® ‡§ï‡•Ä ‡§∞‡§æ‡§§, ‡§™‡•Ç‡§∞‡•Ä ‡§∞‡§æ‡§§ ‡§ú‡§æ‡§ó‡§∞‡§£, ‡§ú‡§≤ ‡§Ö‡§∞‡•ç‡§™‡§£‡•§' }
        ];
        
        // Horoscope Data - 12 ‡§∞‡§æ‡§∂‡§ø‡§Ø‡§æ‡§Ç
        const horoscope = [
            { name: '‡§Æ‡•á‡§∑', emoji: '‚ôà', prediction: '‡§Ü‡§ú ‡§ß‡§® ‡§≤‡§æ‡§≠ ‡§ï‡•á ‡§Ø‡•ã‡§ó ‡§π‡•à‡§Ç‡•§ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä‡•§' },
            { name: '‡§µ‡•É‡§∑‡§≠', emoji: '‚ôâ', prediction: '‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ñ-‡§∂‡§æ‡§Ç‡§§‡§ø ‡§∞‡§π‡•á‡§ó‡•Ä‡•§ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∞‡§π‡•á‡§ó‡§æ‡•§' },
            { name: '‡§Æ‡§ø‡§•‡•Å‡§®', emoji: '‚ôä', prediction: '‡§®‡§è ‡§Ö‡§µ‡§∏‡§∞ ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á‡•§ ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§¨‡§¢‡§º‡•ã‡§§‡§∞‡•Ä ‡§π‡•ã‡§ó‡•Ä‡•§' },
            { name: '‡§ï‡§∞‡•ç‡§ï', emoji: '‚ôã', prediction: '‡§¨‡§°‡§º‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§π‡§Ø‡•ã‡§ó ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ‡•§ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§∞‡§π‡•á‡§ó‡•Ä‡•§' },
            { name: '‡§∏‡§ø‡§Ç‡§π', emoji: '‚ôå', prediction: '‡§™‡•ç‡§∞‡§§‡§ø‡§∑‡•ç‡§†‡§æ ‡§Æ‡•á‡§Ç ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§π‡•ã‡§ó‡•Ä‡•§ ‡§∏‡§æ‡§Æ‡§æ‡§ú‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§≠‡§æ‡§ó ‡§≤‡•á‡§Ç‡•§' },
            { name: '‡§ï‡§®‡•ç‡§Ø‡§æ', emoji: '‚ôç', prediction: '‡§µ‡•ç‡§Ø‡§æ‡§µ‡§π‡§æ‡§∞‡§ø‡§ï‡§§‡§æ ‡§Ü‡§™‡§ï‡§æ ‡§ó‡•Å‡§£ ‡§π‡•à‡•§ ‡§µ‡§ø‡§µ‡•á‡§ï‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§Ç‡•§' },
            { name: '‡§§‡•Å‡§≤‡§æ', emoji: '‚ôé', prediction: '‡§∏‡§Ç‡§§‡•Å‡§≤‡§® ‡§¨‡§®‡§æ‡§è‡§Ç‡•§ ‡§Æ‡§® ‡§ï‡•Ä ‡§∂‡§æ‡§Ç‡§§‡§ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§' },
            { name: '‡§µ‡•É‡§∂‡•ç‡§ö‡§ø‡§ï', emoji: '‚ôè', prediction: '‡§∏‡§æ‡§π‡§∏ ‡§î‡§∞ ‡§ß‡•à‡§∞‡•ç‡§Ø ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç‡•§ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§ì‡§∞ ‡§¨‡§¢‡§º‡•á‡§Ç‡•§' },
            { name: '‡§ß‡§®‡•Å', emoji: '‚ôê', prediction: '‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡•á ‡§Ø‡•ã‡§ó ‡§π‡•à‡§Ç‡•§ ‡§®‡§è ‡§ï‡•å‡§∂‡§≤ ‡§∏‡•Ä‡§ñ‡•á‡§Ç‡•§' },
            { name: '‡§Æ‡§ï‡§∞', emoji: '‚ôë', prediction: '‡§ï‡§†‡•ã‡§∞ ‡§™‡§∞‡§ø‡§∂‡•ç‡§∞‡§Æ ‡§∏‡•á ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä‡•§ ‡§ß‡•à‡§∞‡•ç‡§Ø ‡§∞‡§ñ‡•á‡§Ç‡•§' },
            { name: '‡§ï‡•Å‡§Æ‡•ç‡§≠', emoji: '‚ôí', prediction: '‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡§æ‡§• ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ‡•§ ‡§®‡§à ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç ‡§¨‡§®‡§æ‡§è‡§Ç‡•§' },
            { name: '‡§Æ‡•Ä‡§®', emoji: '‚ôì', prediction: '‡§ï‡§≤‡•ç‡§™‡§®‡§æ‡§∂‡•Ä‡§≤‡§§‡§æ ‡§Ü‡§™‡§ï‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø ‡§π‡•à‡•§ ‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§∞‡•á‡§Ç‡•§' }
        ];
        
        let currentDate = new Date();
        let currentMonth = currentDate.getMonth();
        let currentYear = currentDate.getFullYear();
        let currentContent = '';
        let favorites = JSON.parse(localStorage.getItem('calendarFavorites')) || [];
        
        const hindiMonths = ['‡§ú‡§®‡§µ‡§∞‡•Ä', '‡§´‡§∞‡§µ‡§∞‡•Ä', '‡§Æ‡§æ‡§∞‡•ç‡§ö', '‡§Ö‡§™‡•ç‡§∞‡•à‡§≤', '‡§Æ‡§à', '‡§ú‡•Ç‡§®', '‡§ú‡•Å‡§≤‡§æ‡§à', '‡§Ö‡§ó‡§∏‡•ç‡§§', '‡§∏‡§ø‡§§‡§Æ‡•ç‡§¨‡§∞', '‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞', '‡§®‡§µ‡§Æ‡•ç‡§¨‡§∞', '‡§¶‡§ø‡§∏‡§Æ‡•ç‡§¨‡§∞'];
        const hindiDays = ['‡§∞‡§µ‡§ø‡§µ‡§æ‡§∞', '‡§∏‡•ã‡§Æ‡§µ‡§æ‡§∞', '‡§Æ‡§Ç‡§ó‡§≤‡§µ‡§æ‡§∞', '‡§¨‡•Å‡§ß‡§µ‡§æ‡§∞', '‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞', '‡§∂‡•Å‡§ï‡•ç‡§∞‡§µ‡§æ‡§∞', '‡§∂‡§®‡§ø‡§µ‡§æ‡§∞'];
        const hindiDaysShort = ['‡§∞‡§µ‡§ø', '‡§∏‡•ã‡§Æ', '‡§Æ‡§Ç‡§ó‡§≤', '‡§¨‡•Å‡§ß', '‡§ó‡•Å‡§∞‡•Å', '‡§∂‡•Å‡§ï‡•ç‡§∞', '‡§∂‡§®‡§ø'];
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateTodayDate();
            renderCalendar();
            renderFestivals();
            renderHoroscope();
            setupNavigation();
        });
        
        function updateTodayDate() {
            const now = new Date();
            document.getElementById('todayDate').textContent = 
                `${now.getDate()} ${hindiMonths[now.getMonth()]} ${now.getFullYear()}, ${hindiDays[now.getDay()]}`;
        }
        
        function renderCalendar() {
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const daysInPrevMonth = new Date(currentYear, currentMonth, 0).getDate();
            
            // Previous month dates
            for (let i = firstDay - 1; i >= 0; i--) {
                const date = daysInPrevMonth - i;
                const card = createDateCard(date, true, false, false);
                grid.appendChild(card);
            }
            
            // Current month dates
            const today = new Date();
            for (let date = 1; date <= daysInMonth; date++) {
                const isToday = date === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear();
                const isFestival = checkFestival(date, currentMonth + 1, currentYear);
                const card = createDateCard(date, false, isToday, isFestival);
                grid.appendChild(card);
            }
            
            // Next month dates
            const totalCells = grid.children.length;
            const remainingCells = 42 - totalCells;
            for (let date = 1; date <= remainingCells; date++) {
                const card = createDateCard(date, true, false, false);
                grid.appendChild(card);
            }
            
            updateMonthDisplay();
        }
        
        function createDateCard(date, isOtherMonth, isToday, isFestival) {
            const card = document.createElement('div');
            card.className = 'date-card';
            if (isOtherMonth) card.classList.add('other-month');
            if (isToday) card.classList.add('today');
            if (isFestival) card.classList.add('festival');
            
            const dayOfWeek = (new Date(currentYear, currentMonth, isOtherMonth ? date : date).getDay());
            const dayShort = hindiDaysShort[dayOfWeek];
            
            let html = `<div class="date-num">${date}</div><div class="date-name">${dayShort}</div>`;
            if (isFestival) html += '<div class="festival-icon">üéâ</div>';
            if (!isOtherMonth) html += '<div class="panchang-dot"></div>';
            
            card.innerHTML = html;
            card.onclick = () => showDateDetail(date, isOtherMonth);
            return card;
        }
        
        function checkFestival(date, month, year) {
            const festivalDates = {
                '1-14': true, '3-25': true, '9-21': true, '11-8': true,
                '4-2': true, '4-6': true, '8-15': true, '8-16': true,
                '3-1': true, '11-20': true
            };
            return festivalDates[`${month}-${date}`];
        }
        
        function showDateDetail(date, isOtherMonth) {
            const dayOfWeek = hindiDays[(new Date(currentYear, currentMonth, isOtherMonth ? date : date).getDay())];
            const panchang = panchangData[new Date(currentYear, currentMonth, isOtherMonth ? date : date).getDay()];
            
            currentContent = `${hindiMonths[currentMonth]} ${date}, ${dayOfWeek}\n\nüìÜ ‡§™‡§Ç‡§ö‡§æ‡§Ç‡§ó ‡§µ‡§ø‡§µ‡§∞‡§£:\n\n‡§§‡§ø‡§•‡§ø: ${panchang.tithi}\n‡§®‡§ï‡•ç‡§∑‡§§‡•ç‡§∞: ${panchang.nakshatra}\n‡§Ø‡•ã‡§ó: ${panchang.yoga}\n‡§ï‡§∞‡§£: ${panchang.karan}`;
            showModal(`${hindiMonths[currentMonth]} ${date}`, currentContent);
        }
        
        function updateMonthDisplay() {
            document.getElementById('currentMonth').textContent = `${hindiMonths[currentMonth]} ${currentYear}`;
        }
        
        function previousMonth() {
            if (currentMonth === 0) {
                currentMonth = 11;
                currentYear--;
            } else {
                currentMonth--;
            }
            renderCalendar();
        }
        
        function nextMonth() {
            if (currentMonth === 11) {
                currentMonth = 0;
                currentYear++;
            } else {
                currentMonth++;
            }
            renderCalendar();
        }
        
        function renderFestivals() {
            const list = document.getElementById('festivalList');
            list.innerHTML = festivals.map(fest => `
                <div class="festival-card" onclick="showModal('${fest.name}', '${fest.date}\\n\\n${fest.desc}')">
                    <div class="festival-name">${fest.name}</div>
                    <div class="festival-date">${fest.date}</div>
                    <div class="festival-desc">${fest.desc}</div>
                </div>
            `).join('');
        }
        
        function renderHoroscope() {
            const grid = document.getElementById('horoscopeGrid');
            grid.innerHTML = horoscope.map(h => `
                <div class="horoscope-card" onclick="showModal('${h.name} ‡§∞‡§æ‡§∂‡§ø‡§´‡§≤', '${h.prediction}')">
                    <div class="rashi-emoji">${h.emoji}</div>
                    <div class="rashi-name">${h.name}</div>
                    <div class="rashi-desc">${h.prediction.substring(0, 40)}...</div>
                </div>
            `).join('');
        }
        
        function setupNavigation() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.dataset.section;
                    document.querySelectorAll('.section-card').forEach(s => s.classList.add('hidden'));
                    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                    
                    if (section === 'calendar') document.getElementById('calendarSection').classList.remove('hidden');
                    else if (section === 'festivals') document.getElementById('festivalsSection').classList.remove('hidden');
                    else if (section === 'horoscope') document.getElementById('horoscopeSection').classList.remove('hidden');
                    else if (section === 'favorites') {
                        document.getElementById('favoritesSection').classList.remove('hidden');
                        renderFavorites();
                    }
                    
                    this.classList.add('active');
                });
            });
        }
        
        function showModal(title, body) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').textContent = body;
            currentContent = `${title}\n\n${body}`;
            document.getElementById('modal').style.display = 'block';
            showConfetti();
        }
        
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }
        
        function copyContent() {
            navigator.clipboard.writeText(currentContent);
            showToast('‚úÖ ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ!');
        }
        
        function shareContent() {
            if (navigator.share) {
                navigator.share({ text: currentContent });
            } else {
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(currentContent)}`;
                window.open(whatsappUrl, '_blank');
            }
            showToast('üì± ‡§∂‡•á‡§Ø‡§∞ ‡§π‡•ã ‡§ó‡§Ø‡§æ!');
        }
        
        function toggleFavorite() {
            const exists = favorites.includes(currentContent);
            if (exists) {
                favorites = favorites.filter(f => f !== currentContent);
                showToast('‚ùå ‡§™‡•ç‡§∞‡§ø‡§Ø ‡§∏‡•á ‡§π‡§ü‡§æ‡§Ø‡§æ');
            } else {
                favorites.push(currentContent);
                showToast('‚ù§Ô∏è ‡§™‡•ç‡§∞‡§ø‡§Ø ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§æ');
            }
            localStorage.setItem('calendarFavorites', JSON.stringify(favorites));
        }
        
        function renderFavorites() {
            const list = document.getElementById('favoritesList');
            if (favorites.length === 0) {
                list.innerHTML = '<p style="color:rgba(255,255,255,0.7);text-align:center;padding:30px;">‡§ï‡•ã‡§à ‡§™‡•ç‡§∞‡§ø‡§Ø ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à</p>';
            } else {
                list.innerHTML = favorites.map(fav => `
                    <div class="festival-card" onclick="showModal('‡§™‡•ç‡§∞‡§ø‡§Ø', '${fav}')">
                        <div style="color:rgba(255,255,255,0.9);font-size:13px;line-height:1.4;">${fav.substring(0, 100)}</div>
                    </div>
                `).join('');
            }
        }
        
        function showToast(msg) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = msg;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }
        
        function showConfetti() {
            for (let i = 0; i < 20; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = ['#ffeb3b', '#ff6b6b', '#4ecdc4', '#45b7d1'][Math.floor(Math.random() * 4)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }
        }
        
        // Close modal on outside click
        window.onclick = (e) => {
            const modal = document.getElementById('modal');
            if (e.target === modal) closeModal();
        };
        
        // ========== PWA & ADVANCED FEATURES ==========
        
        // Service Worker Registration (Offline Mode)
        if ('serviceWorker' in navigator) {
            const swCode = `
            self.addEventListener('install', (e) => {
                e.waitUntil(caches.open('hindi-calendar-v1').then((cache) => {
                    return cache.addAll(['/']);
                }));
                self.skipWaiting();
            });
            
            self.addEventListener('fetch', (e) => {
                e.respondWith(
                    caches.match(e.request).then((response) => {
                        return response || fetch(e.request);
                    }).catch(() => caches.match('/'))
                );
            });
            
            self.addEventListener('activate', (e) => {
                e.waitUntil(caches.keys().then((keys) => {
                    return Promise.all(keys.map((key) => {
                        if (key !== 'hindi-calendar-v1') return caches.delete(key);
                    }));
                }));
            });
            `;
            
            const blob = new Blob([swCode], { type: 'application/javascript' });
            const swUrl = URL.createObjectURL(blob);
            navigator.serviceWorker.register(swUrl).catch(() => {});
        }
        
        // Dark Mode Toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
            updateThemeToggleButton();
        }
        
        function updateThemeToggleButton() {
            const btn = document.querySelector('.theme-toggle');
            if (document.body.classList.contains('dark-mode')) {
                btn.textContent = '‚òÄÔ∏è';
                btn.style.background = 'rgba(255,200,0,0.2)';
            } else {
                btn.textContent = 'üåô';
                btn.style.background = 'rgba(255,255,255,0.2)';
            }
        }
        
        // Load Dark Mode Preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            updateThemeToggleButton();
        }
        
        // Swipe Navigation for Months
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, false);
        
        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextMonth();  // Swipe left = next month
                } else {
                    previousMonth();  // Swipe right = previous month
                }
            }
        }
        
        // Festival Notifications
        function checkUpcomingFestivals() {
            const today = new Date();
            const festivalDates = [
                { date: '14-1', name: '‡§Æ‡§ï‡§∞ ‡§∏‡§Ç‡§ï‡•ç‡§∞‡§æ‡§Ç‡§§‡§ø' },
                { date: '25-3', name: '‡§π‡•ã‡§≤‡•Ä' },
                { date: '2-4', name: '‡§∞‡§æ‡§Æ‡§®‡§µ‡§Æ‡•Ä' },
                { date: '21-9', name: '‡§®‡§µ‡§∞‡§æ‡§§‡•ç‡§∞‡§ø' },
                { date: '8-11', name: '‡§¶‡§ø‡§µ‡§æ‡§≤‡•Ä' }
            ];
            
            festivalDates.forEach(fest => {
                const [day, month] = fest.date.split('-');
                const festivalDate = new Date(today.getFullYear(), parseInt(month) - 1, parseInt(day));
                const daysUntil = Math.ceil((festivalDate - today) / (1000 * 60 * 60 * 24));
                
                if (daysUntil === 1 && 'Notification' in window && Notification.permission === 'granted') {
                    new Notification('üéâ ' + fest.name + ' ‡§ï‡§≤ ‡§π‡•à!', {
                        icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text x="50" y="50" font-size="80" dominant-baseline="middle" text-anchor="middle">üéâ</text></svg>',
                        tag: 'festival-' + fest.name,
                        requireInteraction: false
                    });
                }
            });
        }
        
        // Request Notification Permission
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }
        
        // Check Festivals Every Hour
        setInterval(checkUpcomingFestivals, 3600000);
        checkUpcomingFestivals();
        
        // Enhanced Tap Feedback
        document.addEventListener('touchstart', function(e) {
            if (e.target.classList.contains('date-card') || 
                e.target.classList.contains('festival-card') || 
                e.target.classList.contains('horoscope-card')) {
                e.target.style.opacity = '0.7';
            }
        }, false);
        
        document.addEventListener('touchend', function(e) {
            if (e.target.classList.contains('date-card') || 
                e.target.classList.contains('festival-card') || 
                e.target.classList.contains('horoscope-card')) {
                e.target.style.opacity = '1';
            }
        }, false);
        
        // Request Full Screen on Installation (iOS)
        document.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
        });
        
        // Haptic Feedback (Vibration) on Actions
        function triggerVibration(pattern = 20) {
            if ('vibrate' in navigator) {
                navigator.vibrate(pattern);
            }
        }
        
        // Add Vibration to Button Clicks
        document.querySelectorAll('.btn, .date-card, .nav-item').forEach(el => {
            el.addEventListener('click', () => triggerVibration(15));
        });
        
        // Status Bar Color (Android)
        document.documentElement.style.colorScheme = 'light dark';
    </script>
</body>
</html>
